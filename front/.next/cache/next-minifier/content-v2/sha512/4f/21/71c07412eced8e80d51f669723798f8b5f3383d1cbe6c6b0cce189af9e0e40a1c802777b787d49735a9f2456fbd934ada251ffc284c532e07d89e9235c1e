{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[15],{RNiq:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"__N_SSP\",(function(){return b}));var c=n(\"q1tI\"),o=n.n(c),a=n(\"/MKj\"),i=n(\"1zst\"),l=n(\"kduo\"),r=n(\"Vl3Y\"),u=n(\"5rEg\"),s=n(\"2/Rp\"),d=n(\"p+NB\"),f=o.a.createElement,m=function(){var e=Object(c.useState)(\"\"),t=e[0],n=e[1],o=Object(a.b)(),i=Object(a.c)((function(e){return e.post})),l=i.imagePaths,m=i.addPostDone,p=Object(c.useRef)();Object(c.useEffect)((function(){m&&n(\"\")}),[m]);var b=Object(c.useCallback)((function(e){n(e.target.value)})),g=Object(c.useCallback)((function(){if(!t||!t.trim())return alert(\"\\uac8c\\uc2dc\\uae00\\uc744 \\uc791\\uc131\\ud558\\uc138\\uc694.\");var e=new FormData;return l.forEach((function(t){e.append(\"image\",t)})),e.append(\"content\",t),o({type:d.e,data:e})}),[t,l]),h=Object(c.useCallback)((function(){p.current.click()}),[p.current]),w=Object(c.useCallback)((function(e){console.log(\"images\",e.target.files);var t=new FormData;[].forEach.call(e.target.files,(function(e){t.append(\"image\",e)})),o({type:d.F,data:t})})),v=Object(c.useCallback)((function(e){return function(){o({type:d.v,data:e})}}));return f(r.a,{style:{margin:\"10px 0 20px\"},encType:\"multipart/form-data\",onFinish:g},f(u.a.TextArea,{value:t,onChange:b,maxLength:140,placeholder:\"\\uc5b4\\ub5a4 \\uc2e0\\uae30\\ud55c \\uc77c\\uc774 \\uc788\\uc5c8\\ub098\\uc694?\"}),f(\"div\",null,f(\"input\",{type:\"file\",name:\"image\",multiple:!0,hidden:!0,ref:p,onChange:w}),f(s.a,{onClick:h},\"\\uc774\\ubbf8\\uc9c0 \\uc5c5\\ub85c\\ub4dc\"),f(s.a,{type:\"primary\",style:{float:\"right\"},htmlType:\"submit\"},\"\\uc9f9\\uc9f9\")),f(\"div\",null,l.map((function(e,t){return f(\"div\",{key:e,style:{display:\"inline-block\"}},f(\"img\",{src:\"http://localhost:3065/\".concat(e),style:{width:\"200px\"},alt:e}),f(\"div\",null,f(s.a,{onClick:v(t)},\"\\uc81c\\uac70\")))}))))},p=o.a.createElement,b=!0;t.default=function(){var e=Object(a.b)(),t=Object(a.c)((function(e){return e.user})).me,n=Object(a.c)((function(e){return e.post})),o=n.mainPosts,r=n.hasMorePost,u=n.loadPostsLoading,s=n.retweetError;return Object(c.useEffect)((function(){s&&alert(s)}),[s]),Object(c.useEffect)((function(){function t(){if(console.log(window.scrollY,document.documentElement.clientHeight,document.documentElement.scrollHeight),window.scrollY+document.documentElement.clientHeight>document.documentElement.scrollHeight-300&&r&&!u){var t,n=null===(t=o[o.length-1])||void 0===t?void 0:t.id;e({type:d.n,lastId:n})}}return window.addEventListener(\"scroll\",t),function(){window.removeEventListener(\"scroll\",t)}}),[r,u,o]),p(i.a,null,t&&p(m,null),o.map((function(e){return p(l.a,{key:e.id,post:e})})))}},vlRD:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/\",function(){return n(\"RNiq\")}])}},[[\"vlRD\",1,2,6,0,3,4,5,7]]]);","map":{"version":3,"sources":["static/chunks/pages/index-5573f95a9de8db0b7223.js"],"names":["_N_E","window","push","RNiq","module","__webpack_exports__","__webpack_require__","r","d","__N_SSP","react","react_default","n","es","AppLayout","PostCard","es_form","input","es_button","reducers_post","__jsx","a","createElement","components_PostForm","_useState","Object","text","setText","dispatch","_useSelector","state","post","imagePaths","addPostDone","imageInput","onChangeText","e","target","value","onSubmit","trim","alert","formData","FormData","forEach","p","append","type","data","onClickImageUpload","current","click","onChangeImages","console","log","files","imageFormData","call","f","onRemoveImage","index","style","margin","encType","onFinish","TextArea","onChange","maxLength","placeholder","name","multiple","hidden","ref","onClick","float","htmlType","map","v","i","key","display","src","concat","width","alt","pages_jsx","me","user","_useSelector2","mainPosts","hasMorePost","loadPostsLoading","retweetError","onScroll","scrollY","document","documentElement","clientHeight","scrollHeight","_mainPosts","lastId","length","id","addEventListener","removeEventListener","vlRD","exports","__NEXT_P"],"mappings":"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"},"extractedComments":[]}