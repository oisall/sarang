{"ast":null,"code":"import axios from 'axios';\nimport { takeEvery, takeLatest, all, fork, call, put, throttle, delay } from 'redux-saga/effects';\nfunction logInAPI(data) {\n  return axios.post('/api/login', data);\n}\nfunction* logIn(action) {\n  try {\n    // const result = yield call(logInAPI,action.data)\n    yield delay(1000);\n    yield put({\n      type: 'LOG_IN_SUCCESS',\n      data: result.data\n    });\n  } catch (err) {\n    yield put({\n      type: 'LOG_IN_FAILURE',\n      data: err.response.data\n    });\n  }\n}\nfunction logOutAPI() {\n  return axios.post('/api/logout');\n}\nfunction* logOut() {\n  try {\n    // const result = yield call(logOutAPI)\n    yield delay(1000);\n    yield put({\n      type: 'LOG_OUT_SUCCESS',\n      data: result.data\n    });\n  } catch (err) {\n    yield put({\n      type: 'LOG_OUT_FAILURE',\n      data: err.response.data\n    });\n  }\n}\nfunction addPostAPI(data) {\n  return axios.post('/api/post', data);\n}\nfunction* addPost(action) {\n  try {\n    // const result = yield call(addPostAPI,action.data)\n    yield delay(1000);\n    yield put({\n      type: 'ADD_POST_SUCCESS',\n      data: result.data\n    });\n  } catch (err) {\n    yield put({\n      type: 'ADD_POST_FAILURE',\n      data: err.response.data\n    });\n  }\n}\nfunction* watchLogIn() {\n  yield takeLatest('LOG_IN_REQUEST', logIn);\n}\nfunction* watchLogOut() {\n  yield takeLatest('LOG_OUT_REQUEST', logOut);\n}\nfunction* watchAddPost() {\n  yield throttle('ADD_POST_REQUEST', addPost, 3000);\n}\nexport default function* rootSaga() {\n  yield all([fork(watchLogIn), fork(watchLogOut), fork(watchAddPost)]);\n}","map":{"version":3,"names":["axios","takeEvery","takeLatest","all","fork","call","put","throttle","delay","logInAPI","data","post","logIn","action","type","result","err","response","logOutAPI","logOut","addPostAPI","addPost","watchLogIn","watchLogOut","watchAddPost","rootSaga"],"sources":["C:/Dev/next_react_node/front/sagas/index.js"],"sourcesContent":["import axios from 'axios';\r\nimport { takeEvery,takeLatest, all, fork, call, put, throttle, delay } from 'redux-saga/effects'\r\n\r\nfunction logInAPI(data) {\r\n    return axios.post('/api/login',data)\r\n}\r\n\r\nfunction* logIn(action) {\r\n    try {\r\n\r\n        // const result = yield call(logInAPI,action.data)\r\n        yield delay(1000);\r\n        yield put({\r\n\r\n            type: 'LOG_IN_SUCCESS',\r\n            data: result.data\r\n        })\r\n    } catch (err) {\r\n\r\n        yield put({\r\n\r\n            type: 'LOG_IN_FAILURE',\r\n            data: err.response.data\r\n        })\r\n    }\r\n\r\n}\r\n\r\n\r\nfunction logOutAPI() {\r\n    return axios.post('/api/logout')\r\n}\r\n\r\nfunction* logOut() {\r\n    try {\r\n\r\n        // const result = yield call(logOutAPI)\r\n        yield delay(1000);\r\n        yield put({\r\n\r\n            type: 'LOG_OUT_SUCCESS',\r\n            data: result.data\r\n        })\r\n    } catch (err) {\r\n\r\n        yield put({\r\n\r\n            type: 'LOG_OUT_FAILURE',\r\n            data: err.response.data\r\n        })\r\n    }\r\n\r\n}\r\n\r\n\r\nfunction addPostAPI(data) {\r\n    return axios.post('/api/post',data)\r\n}\r\n\r\nfunction* addPost(action) {\r\n    try {\r\n\r\n        // const result = yield call(addPostAPI,action.data)\r\n        yield delay(1000);\r\n        yield put({\r\n\r\n            type: 'ADD_POST_SUCCESS',\r\n            data: result.data\r\n        })\r\n    } catch (err) {\r\n\r\n        yield put({\r\n\r\n            type: 'ADD_POST_FAILURE',\r\n            data: err.response.data\r\n        })\r\n    }\r\n\r\n}\r\n\r\n\r\nfunction* watchLogIn() {\r\n        yield takeLatest('LOG_IN_REQUEST', logIn);\r\n}\r\n\r\nfunction* watchLogOut() {\r\n        yield takeLatest('LOG_OUT_REQUEST',logOut);\r\n}\r\n\r\n\r\nfunction* watchAddPost() {\r\n        yield throttle('ADD_POST_REQUEST',addPost,3000);\r\n}\r\n\r\nexport default function* rootSaga() {\r\n    yield all([\r\n        fork(watchLogIn),\r\n        fork(watchLogOut),\r\n        fork(watchAddPost),\r\n\r\n    ]);\r\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,EAACC,UAAU,EAAEC,GAAG,EAAEC,IAAI,EAAEC,IAAI,EAAEC,GAAG,EAAEC,QAAQ,EAAEC,KAAK,QAAQ,oBAAoB;AAEhG,SAASC,QAAQ,CAACC,IAAI,EAAE;EACpB,OAAOV,KAAK,CAACW,IAAI,CAAC,YAAY,EAACD,IAAI,CAAC;AACxC;AAEA,UAAUE,KAAK,CAACC,MAAM,EAAE;EACpB,IAAI;IAEA;IACA,MAAML,KAAK,CAAC,IAAI,CAAC;IACjB,MAAMF,GAAG,CAAC;MAENQ,IAAI,EAAE,gBAAgB;MACtBJ,IAAI,EAAEK,MAAM,CAACL;IACjB,CAAC,CAAC;EACN,CAAC,CAAC,OAAOM,GAAG,EAAE;IAEV,MAAMV,GAAG,CAAC;MAENQ,IAAI,EAAE,gBAAgB;MACtBJ,IAAI,EAAEM,GAAG,CAACC,QAAQ,CAACP;IACvB,CAAC,CAAC;EACN;AAEJ;AAGA,SAASQ,SAAS,GAAG;EACjB,OAAOlB,KAAK,CAACW,IAAI,CAAC,aAAa,CAAC;AACpC;AAEA,UAAUQ,MAAM,GAAG;EACf,IAAI;IAEA;IACA,MAAMX,KAAK,CAAC,IAAI,CAAC;IACjB,MAAMF,GAAG,CAAC;MAENQ,IAAI,EAAE,iBAAiB;MACvBJ,IAAI,EAAEK,MAAM,CAACL;IACjB,CAAC,CAAC;EACN,CAAC,CAAC,OAAOM,GAAG,EAAE;IAEV,MAAMV,GAAG,CAAC;MAENQ,IAAI,EAAE,iBAAiB;MACvBJ,IAAI,EAAEM,GAAG,CAACC,QAAQ,CAACP;IACvB,CAAC,CAAC;EACN;AAEJ;AAGA,SAASU,UAAU,CAACV,IAAI,EAAE;EACtB,OAAOV,KAAK,CAACW,IAAI,CAAC,WAAW,EAACD,IAAI,CAAC;AACvC;AAEA,UAAUW,OAAO,CAACR,MAAM,EAAE;EACtB,IAAI;IAEA;IACA,MAAML,KAAK,CAAC,IAAI,CAAC;IACjB,MAAMF,GAAG,CAAC;MAENQ,IAAI,EAAE,kBAAkB;MACxBJ,IAAI,EAAEK,MAAM,CAACL;IACjB,CAAC,CAAC;EACN,CAAC,CAAC,OAAOM,GAAG,EAAE;IAEV,MAAMV,GAAG,CAAC;MAENQ,IAAI,EAAE,kBAAkB;MACxBJ,IAAI,EAAEM,GAAG,CAACC,QAAQ,CAACP;IACvB,CAAC,CAAC;EACN;AAEJ;AAGA,UAAUY,UAAU,GAAG;EACf,MAAMpB,UAAU,CAAC,gBAAgB,EAAEU,KAAK,CAAC;AACjD;AAEA,UAAUW,WAAW,GAAG;EAChB,MAAMrB,UAAU,CAAC,iBAAiB,EAACiB,MAAM,CAAC;AAClD;AAGA,UAAUK,YAAY,GAAG;EACjB,MAAMjB,QAAQ,CAAC,kBAAkB,EAACc,OAAO,EAAC,IAAI,CAAC;AACvD;AAEA,eAAe,UAAUI,QAAQ,GAAG;EAChC,MAAMtB,GAAG,CAAC,CACNC,IAAI,CAACkB,UAAU,CAAC,EAChBlB,IAAI,CAACmB,WAAW,CAAC,EACjBnB,IAAI,CAACoB,YAAY,CAAC,CAErB,CAAC;AACN"},"metadata":{},"sourceType":"module"}